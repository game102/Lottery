{"persistifyArgs":{"cache":{"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\28\\280c3aec-6492-4a9d-9f51-a9b00b570b4a.js":{"source":"\"use strict\";\ncc._RF.push(module, '280c3rsZJJKnZ9RqbALVwtK', 'HelloWorld');\n// Script/HelloWorld.js\n\n'use strict';\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        label: {\n            default: null,\n            type: cc.Label\n        },\n        // defaults, set visually when attaching this script to the Canvas\n        text: 'Hello, World!'\n    },\n\n    // use this for initialization\n    onLoad: function onLoad() {\n        this.label.string = this.text;\n    },\n\n    // called every frame\n    update: function update(dt) {}\n});\n\ncc._RF.pop();","deps":{}},"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\f0\\f0c22c4e-3665-4d85-a7e6-de0a067debb1.js":{"source":"\"use strict\";\ncc._RF.push(module, 'f0c22xONmVNhafm3goGfeux', 'TableManager');\n// Script/TableManager.js\n\n\"use strict\";\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        run_node: {\n            type: cc.Node,\n            default: null\n        },\n\n        item_root: {\n            type: cc.Node,\n            default: null\n        }\n    },\n\n    start: function start() {\n        this.start_index = Math.random() * this.item_root.children.length; //[0 12)\n        this.start_index = Math.floor(this.start_index);\n        this.run_node.setPosition(this.item_root.children[this.start_index].getPosition());\n\n        this.is_run = false;\n\n        console.log(\"start_index:\" + this.start_index);\n    },\n    start_click: function start_click() {\n        this.end_index = Math.random() * this.item_root.children.length; //[0 12)\n        this.end_index = Math.floor(this.end_index);\n\n        this.is_run = true;\n        this.show_run_anim();\n\n        console.log(\"end_index:\" + this.end_index);\n    },\n    show_run_anim: function show_run_anim() {\n\n        this.turns = Math.random() * 2; //[0 2)\n        this.turns = Math.floor(this.turns) + 2;\n\n        this.run_path = [];\n\n        for (var i = this.start_index; i < this.item_root.children.length; i++) {\n            this.run_path.push(this.item_root.children[i]);\n        }\n\n        for (var j = 0; j < this.turns; j++) {\n            for (var i = 0; i < this.item_root.children.length; i++) {\n                this.run_path.push(this.item_root.children[i]);\n            }\n        }\n\n        for (var i = 0; i < this.end_index; i++) {\n            this.run_path.push(this.item_root.children[i]);\n        }\n\n        this.step_speed = 5000;\n        this.damp = this.step_speed / (this.run_path.length - 1);\n        this.path_next_index = 1;\n\n        this.run_to_next();\n    },\n    run_to_next: function run_to_next() {\n\n        if (this.path_next_index >= this.run_path.length) {\n            this.is_run = false;\n            this.start_index = this.end_index;\n            return;\n        }\n\n        this.time_passed = 0;\n\n        var dst = this.run_path[this.path_next_index].getPosition();\n        var src = this.run_node.getPosition();\n        var dir = dst.sub(src);\n        var len = dir.mag();\n\n        this.step_time = len / this.step_speed;\n\n        this.run_node.x += dir.x;\n        this.run_node.y += dir.y;\n\n        this.step_speed -= this.damp;\n        this.path_next_index++;\n    },\n\n\n    // called every frame, uncomment this function to activate update callback\n    update: function update(dt) {\n\n        if (!this.is_run) {\n            return;\n        }\n\n        this.time_passed += dt;\n\n        if (this.time_passed > this.step_time) {\n            dt -= this.time_passed - this.step_time;\n        }\n\n        if (this.time_passed >= this.step_time) {\n            this.run_to_next();\n        }\n    }\n\n});\n\ncc._RF.pop();","deps":{}}},"packageCache":{"E:\\Project\\CocosCreator\\Lottery12\\assets\\Script\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\assets\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\package.json":false,"E:\\Project\\CocosCreator\\package.json":false,"E:\\Project\\package.json":false,"E:\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\assets\\Script\\HelloWorld.js":false,"E:\\Project\\CocosCreator\\Lottery12\\library\\imports\\28\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\library\\imports\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\library\\package.json":false,"E:\\Project\\CocosCreator\\Lottery12\\library\\imports\\28\\280c3aec-6492-4a9d-9f51-a9b00b570b4a.js":{"__dirname":"E:\\Project\\CocosCreator\\Lottery12\\library\\imports\\28"},"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\assets\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\HelloWorld.js":false,"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\NewScript.js":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\28\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\4f\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\28\\280c3aec-6492-4a9d-9f51-a9b00b570b4a.js":{"__dirname":"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\28"},"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\4f\\4f21e849-3c47-4679-87ee-8df1dbfba8c2.js":{"__dirname":"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\4f"},"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\Lottery_Mgr.js":false,"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\LotteryManage.js":false,"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\Lottery_Manage.js":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\91\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\91\\91088bea-ff64-4ec2-ab98-6bfa3b99fc48.js":{"__dirname":"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\91"},"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\f2\\package.json":false,"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\f2\\f2df2cc8-67f7-43a1-9c9f-ca6cad522cae.js":{"__dirname":"E:\\Project\\CocosCreator\\lottery12\\library\\imports\\f2"},"E:\\Project\\CocosCreator\\lottery12\\assets\\Script\\LotteryManager.js":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\assets\\Script\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\assets\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\assets\\Script\\HelloWorld.js":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\28\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\28\\280c3aec-6492-4a9d-9f51-a9b00b570b4a.js":{"__dirname":"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\28"},"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\assets\\Script\\NewScript.js":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\f0\\package.json":false,"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\f0\\f0c22c4e-3665-4d85-a7e6-de0a067debb1.js":{"__dirname":"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\library\\imports\\f0"},"E:\\Project\\CocosCreator\\Lottery\\lottery12_creator\\assets\\Script\\TableManager.js":false}}}